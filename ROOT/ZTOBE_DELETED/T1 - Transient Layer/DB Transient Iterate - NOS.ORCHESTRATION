{"job":{"components":{"17742":{"id":17742,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1859466705,"x":672,"y":-16,"width":32,"height":32,"inputConnectorIDs":[17767],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[17784],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On Success Scale Down WH Transient NOS"}}}},"visible":true},"2":{"slot":2,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_default_warehouse}"}}}},"visible":true},"3":{"slot":3,"name":"Command Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Set"}}}},"visible":true},"4":{"slot":4,"name":"New name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"5":{"slot":5,"name":"Properties","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"WAREHOUSE_SIZE"},"2":{"slot":2,"type":"STRING","value":"XSMALL"}}}},"visible":true},"6":{"slot":6,"name":"Properties","elements":{},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17743":{"id":17743,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":256,"y":-128,"width":32,"height":32,"inputConnectorIDs":[17770],"outputSuccessConnectorIDs":[17776],"outputFailureConnectorIDs":[17807],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Get File count from NOS Staging"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Updating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\ncur = context.cursor()\n#For test - /TEMPLATE_TEST/AG_TEST_64/2023-05-03/04-54-54/\nresult_arr = '''call ${var_environment_name}_${var_database_job_control}.${var_schema_job_control}.SP_CHECK_TO_SCALE_WH('${var_environment_name}','${var_schema_job_control}','${var_job_run_id}','${v_job_nos_stage_prefix}');\n'''\ncur.execute(result_arr)\nresult = cur.fetchall()\nif result is None:\n  print(\"File count not recieved\")\n  context.UpdateVariable('v_job_Message','Filecount not recieved from stored proc')\nelse:\n file_count = result[0][0]\n #file_count=cur.fetchone()[0]\n count = int(file_count)\n print('file_count returned from sproc :',count)\n if (count > ${var_wh_small_th_cnt}):\n  print('warehouse size is set to SMALL')\n  context.updateVariable('v_job_Warehouse_Size', 'SMALL')\n  print(v_job_Warehouse_Size)\n elif (count > ${var_wh_medium_th_cnt}):\n  print('warehouse size is set to MEDIUM')\n  context.updateVariable('v_job_Warehouse_Size', 'MEDIUM')\n  print(v_job_Warehouse_Size)\n elif (count > ${var_wh_large_th_cnt}):\n  print('warehouse size is set to LARGE')\n  context.updateVariable('v_job_Warehouse_Size', 'LARGE')\n  print(v_job_Warehouse_Size)\n else:\n  print ('warehouse resizing is not required')\n  print(v_job_Warehouse_Size)\n\n   \n\n\n"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17744":{"id":17744,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1859466705,"x":384,"y":-128,"width":32,"height":32,"inputConnectorIDs":[17776],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[17788],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Scale Up WH Transient NOS"}}}},"visible":true},"2":{"slot":2,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_default_warehouse}"}}}},"visible":true},"3":{"slot":3,"name":"Command Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Set"}}}},"visible":true},"4":{"slot":4,"name":"New name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"5":{"slot":5,"name":"Properties","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"WAREHOUSE_SIZE"},"2":{"slot":2,"type":"STRING","value":"${v_job_Warehouse_Size}"}}}},"visible":true},"6":{"slot":6,"name":"Properties","elements":{},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17745":{"id":17745,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-741198691,"x":-288,"y":160,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Completed At","mapTo":"v_job_CompletedAt"},"2":{"slot":2,"fromId":null,"fromName":"Row Count","mapTo":"v_job_RowsInserted"},"3":{"slot":3,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"4":{"slot":4,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"5":{"slot":5,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"6":{"slot":6,"fromId":null,"fromName":"Started At","mapTo":"v_job_StartedAt"},"7":{"slot":7,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient_DB_Database_Query - Adhoc"}}}},"visible":true},"2":{"slot":2,"name":"Database Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${SourceDatabase}"}}}},"visible":true},"3":{"slot":3,"name":"Connection URL","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ConnectionString}"}}}},"visible":true},"6":{"slot":6,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${UserName}"}}}},"visible":true},"7":{"slot":7,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":"${SourcePassword}"}}}},"visible":true},"8":{"slot":8,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CALL DF.P_NOS_WRITE('${var_environment_name}','${SourceDatabaseName}','${SourceTableName}','${var_source_system_name}','${ProjectName}','${JobId}','${DeltaPrimaryColumn}', '${AdhocStart}','${AdhocEnd}');\n\n"}}}},"visible":true},"9":{"slot":9,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":true},"11":{"slot":11,"name":"Connection Options","elements":{},"visible":true},"12":{"slot":12,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"2"}}}},"visible":false},"13":{"slot":13,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":true},"14":{"slot":14,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":true},"15":{"slot":15,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationWarehouse}"}}}},"visible":true},"16":{"slot":16,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"17":{"slot":17,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"101":{"slot":101,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"102":{"slot":102,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"103":{"slot":103,"name":"Data Selection","elements":{},"visible":false},"104":{"slot":104,"name":"Data Source Filter","elements":{},"visible":false},"105":{"slot":105,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"106":{"slot":106,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_default_warehouse}"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_TEMPLATE_TEST"}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationSchema}"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationDatabase}"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":true},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"datafactoryclassified"}}}},"visible":true},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_azure_container_temp}"}}}},"visible":true},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Stage Platform","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Azure Blob Storage Location"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[17813]},"17746":{"id":17746,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-158614544,"x":-288,"y":128,"width":32,"height":16,"inputConnectorIDs":[17768],"outputSuccessConnectorIDs":[17772],"outputFailureConnectorIDs":[17802],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Retry Grab All"}}}},"visible":true},"2":{"slot":2,"name":"Number of Retries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"3"}}}},"visible":true},"3":{"slot":3,"name":"Retry Delay","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Long delay with backoff"}}}},"visible":true},"4":{"slot":4,"name":"Retry Interval","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"1"}}}},"visible":false},"5":{"slot":5,"name":"Retry Time Unit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Second"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[17813],"inputIterationConnectorIDs":[]},"17747":{"id":17747,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-464,"y":128,"width":32,"height":32,"inputConnectorIDs":[17777],"outputSuccessConnectorIDs":[17768],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Grab Adhoc Auditing - Before"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient Audit Logging Task"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_group"},"2":{"slot":2,"type":"STRING","value":"${var_component_group}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_name"},"2":{"slot":2,"type":"STRING","value":"Transient_DB_Database_Query - Grab All"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_state"},"2":{"slot":2,"type":"STRING","value":"Before"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_schema"},"2":{"slot":2,"type":"STRING","value":"${DestinationSchema}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_table"},"2":{"slot":2,"type":"STRING","value":"${DestinationTableName}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_database"},"2":{"slot":2,"type":"STRING","value":"${DestinationDatabase}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"var_job_run_id"},"2":{"slot":2,"type":"STRING","value":"${JobId}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_functionality"},"2":{"slot":2,"type":"STRING","value":"transient"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17748":{"id":17748,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"CONDITIONAL","executionHint":"FLOW","implementationID":-1357378929,"x":-608,"y":128,"width":32,"height":32,"inputConnectorIDs":[17769],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[17777],"outputFalseConnectorIDs":[17781],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"If Adhoc Load Type"}}}},"visible":true},"2":{"slot":2,"name":"Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Simple"}}}},"visible":true},"3":{"slot":3,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"LoadTypeName"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"ADHOC"}}}},"visible":true},"4":{"slot":4,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"5":{"slot":5,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17749":{"id":17749,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-608,"y":-128,"width":32,"height":32,"inputConnectorIDs":[17780],"outputSuccessConnectorIDs":[17773],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Grab All with Primary Offset Auditing - Before"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient Audit Logging Task"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_group"},"2":{"slot":2,"type":"STRING","value":"${var_component_group}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_name"},"2":{"slot":2,"type":"STRING","value":"Transient_DB_Database_Query - Grab All with Primary Offset"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_state"},"2":{"slot":2,"type":"STRING","value":"Before"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_schema"},"2":{"slot":2,"type":"STRING","value":"${DestinationSchema}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_table"},"2":{"slot":2,"type":"STRING","value":"${DestinationTableName}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_database"},"2":{"slot":2,"type":"STRING","value":"${DestinationDatabase}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"var_job_run_id"},"2":{"slot":2,"type":"STRING","value":"${JobId}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_functionality"},"2":{"slot":2,"type":"STRING","value":"transient"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17750":{"id":17750,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":432,"y":128,"width":32,"height":32,"inputConnectorIDs":[17785],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[17786],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Auditing - After - On Failure"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USE WAREHOUSE ${DestinationWarehouse};\n\nUPDATE ${var_environment_name}_${var_database_job_control}.${var_schema_audit}.JOB_EXECUTION A \n\tSET\n    QUERY_TYPE\t\t\t   =\t\t'EXTERNAL DB QUERY'\n    ,ROWS_INSERTED          = \t\tCASE WHEN ${v_job_RowsInserted} = -1 THEN 0 ELSE ${v_job_RowsInserted} END\n    ,ROWS_DELETED\t\t   =        0\n    ,ROWS_UPDATED\t\t   =        0\n    ,ROWS_AFTER\t\t\t   =        0\n    ,WAREHOUSE_NAME        =       \t'${DestinationWarehouse}'\n    ,END_TIME          = \t\tCURRENT_TIMESTAMP()::TIMESTAMP_NTZ\n    ,EXECUTION_STATUS      = \t\t'Failed'\n    ,ERROR_MESSAGE         = \t\t'${v_job_Message}'\n\t,MODIFIED_DATETIME = \t\t CURRENT_TIMESTAMP()::TIMESTAMP_NTZ\n\tWHERE \n    JOB_EXECUTION_ID       = \t\t'${JobId}'\n    AND A.DATABASE_NAME    = \t\t'${DestinationDatabase}'\n    AND A.SCHEMA_NAME \t   = \t\t'${DestinationSchema}'\n\tAND A.TABLE_NAME       = \t\t'${DestinationTableName}'\n\tAND A.EXECUTION_STATUS = \t\t'Running'\n    AND A.CONTEXT_NAME \t   = \t\t'${var_component_group}'\n    --AND A.JOB_COMPONENT    =\t\t'${v_job_Component}'\n    ;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17751":{"id":17751,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-158614544,"x":-304,"y":16,"width":32,"height":16,"inputConnectorIDs":[17775],"outputSuccessConnectorIDs":[17771],"outputFailureConnectorIDs":[17803],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Retry Grab All"}}}},"visible":true},"2":{"slot":2,"name":"Number of Retries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"3"}}}},"visible":true},"3":{"slot":3,"name":"Retry Delay","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Long delay with backoff"}}}},"visible":true},"4":{"slot":4,"name":"Retry Interval","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"1"}}}},"visible":false},"5":{"slot":5,"name":"Retry Time Unit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Second"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[17809],"inputIterationConnectorIDs":[]},"17752":{"id":17752,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":688,"y":128,"width":32,"height":32,"inputConnectorIDs":[17787],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17753":{"id":17753,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":-144,"y":-128,"width":32,"height":32,"inputConnectorIDs":[17771,17772,17774],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[17791],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or success"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17754":{"id":17754,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":16,"y":128,"width":32,"height":32,"inputConnectorIDs":[17802,17803,17804,17805,17806,17807,17808],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[17790],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or Failure"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17755":{"id":17755,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":560,"y":128,"width":32,"height":32,"inputConnectorIDs":[17786],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[17787],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Update TRANSIENT_FAILURE and  LAST_FAILURE_DATE"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USE WAREHOUSE ${DestinationWarehouse};\n\nUPDATE ${var_environment_name}_${var_database_job_control}.${var_schema_job_control}.\"STAGING_CONTROL_DB\"\nSET TRANSIENT_FAILURE_FLAG = 1\n, LAST_FAILURE_DATE = CAST(CURRENT_TIMESTAMP() AS TIMESTAMP_NTZ(9))\nWHERE Source_TABLE_NAME = '${SourceTableName}'\nAND Source_DATABASE_NAME = '${SourceDatabaseName}'\nAND Source_SYSTEM_NAME= '${SourceSystem}'\nAND\n(('${LoadTypeName}' = 'INTERFACE' AND  INTERFACE_NAME = '${LoadTypeValue}' )\nOR\n('${LoadTypeName}' = 'ADHOC'  AND ADHOC_LOAD_FLAG = 1 )\n );"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17756":{"id":17756,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":112,"y":-128,"width":32,"height":32,"inputConnectorIDs":[17779],"outputSuccessConnectorIDs":[17770],"outputFailureConnectorIDs":[17804],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Get the Stage Path Prefix"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Updating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\ncur = context.cursor()\n\nfetch_blob_location = '''\nselect BLOB_LOCATION from \n\"${var_environment_name}_${var_database_job_control}\".\"${var_schema_job_control}\".JOB_EXECUTION_NOS WHERE \nJOB_EXECUTION_ID = ${JobId}  AND DATABASE_NAME = '${SourceDatabaseName}'  AND TABLE_NAME = '${SourceTableName}'\norder by END_TIME desc ; \n'''\n\nprint(\"jobs inserted\", v_job_RowsInserted) \n\ncur.execute(fetch_blob_location)\nresult_set = cur.fetchone()\n\nprint(fetch_blob_location)\nprint(result_set)\n\n### Needs fixing in future sprint for error handling - empty NOS exports.  \nif result_set:\n  blob = str(result_set[0])\n  stage_prefix = \"/\" + \"/\".join(str.split(blob,\"/\")[6:11])\n  sor_file_path = \"/\".join(str.split(blob,\"/\")[4:11])\n  context.updateVariable('v_job_nos_stage_prefix',stage_prefix)\n  print('Variable v_job_nos_stage_prefix has been updated to {0}'.format(stage_prefix))\n  context.updateVariable('v_job_sor_file_path',sor_file_path)\n  print('Variable v_job_sor_file_path has been updated to {0}'.format(sor_file_path))\nelse:\n  raise\n\n   \n\n\n"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17757":{"id":17757,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":544,"y":16,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Completed At","mapTo":"v_job_CompletedAt"},"2":{"slot":2,"fromId":null,"fromName":"Row Count","mapTo":"v_job_RowsInserted"},"3":{"slot":3,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"4":{"slot":4,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"5":{"slot":5,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"6":{"slot":6,"fromId":null,"fromName":"Started At","mapTo":"v_job_StartedAt"},"7":{"slot":7,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Insert from Variant to Transient"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USE WAREHOUSE ${DestinationWarehouse};\n\n\nSET TIMESTAMP_LOAD_VALUE = ( select max(folderpath_datetime)  from \"${var_environment_name}_${var_database_persistent}\".\"${DestinationSchema}\".\"${DestinationTableName}\");\n\ninsert into ${DestinationDatabase}.${DestinationSchema}.${DestinationTableName}\nselect\n*\nfrom\n${DatalakeDatabase}.${DatalakeSchema}.\"VW_SOR_GET_${DestinationTableName}\"\nwhere try_to_timestamp(\"FOLDERPATH_DATETIME\",'YYYY-MM-DD_HH24-MI-SS')\n\t\t\t  > try_to_timestamp(\n\t\t\t\t\t\t\t\t\t   coalesce(\n\t\t\t\t\t\t\t\t\t\t\t\t\t$TIMESTAMP_LOAD_VALUE\n\t\t\t\t\t\t\t\t\t\t\t\t\t,'1900-01-01_00-00-00'\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t ,'YYYY-MM-DD_HH24-MI-SS'\n\t\t\t\t\t\t\t\t\t);\n"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[17810]},"17758":{"id":17758,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-158614544,"x":544,"y":-16,"width":32,"height":16,"inputConnectorIDs":[17766],"outputSuccessConnectorIDs":[17767],"outputFailureConnectorIDs":[17805],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Retry Persistent Insert"}}}},"visible":true},"2":{"slot":2,"name":"Number of Retries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"1"}}}},"visible":true},"3":{"slot":3,"name":"Retry Delay","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Short delay with backoff"}}}},"visible":true},"4":{"slot":4,"name":"Retry Interval","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"1"}}}},"visible":false},"5":{"slot":5,"name":"Retry Time Unit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Second"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[17810],"inputIterationConnectorIDs":[]},"17759":{"id":17759,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":544,"y":-96,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Completed At","mapTo":"v_job_CompletedAt"},"2":{"slot":2,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"3":{"slot":3,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"4":{"slot":4,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"5":{"slot":5,"fromId":null,"fromName":"Started At","mapTo":"v_job_StartedAt"},"6":{"slot":6,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy into Variant"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USE WAREHOUSE ${DestinationWarehouse};\n\n\n\nCOPY INTO ${DatalakeDatabase}.${DatalakeSchema}.${DatalakeTableName}\n(\n-- unique query identifier ${var_component_query_tag}\n        \n        FOLDERPATH\n  \t  , FILENAME\n      , FOLDERPATH_DATETIME\n      , LOAD_JOB_ID\n      , LOAD_DATETIME\n      , CONTENTS\n    )\n    FROM (\n      SELECT\n          regexp_replace(METADATA$FILENAME::STRING ,'(.*\\/)(.*)','\\\\1')              -- FOLDERPATH\n        , SPLIT_PART(METADATA$FILENAME::STRING, '/',-1) -- FILENAME\n        , SPLIT_PART(METADATA$FILENAME, '/',5)||'_' || SPLIT_PART(METADATA$FILENAME, '/',6)   -- FOLDERPATH_DATETIME\n        , ${JobId}\n        , CURRENT_TIMESTAMP                       -- LOAD_DATETIME\n        , $1::VARIANT                             -- CONTENTS\n      FROM @${DatalakeDatabase}.${DatalakeSchema}.${ExternalStageArea}${v_job_nos_stage_prefix}\n       (file_format => ${DatalakeDatabase}.${DatalakeSchema}.${ExternalStageFileFormat})\n    ); "}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[17812]},"17760":{"id":17760,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-158614544,"x":544,"y":-128,"width":32,"height":16,"inputConnectorIDs":[17788],"outputSuccessConnectorIDs":[17766],"outputFailureConnectorIDs":[17806],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Retry DB Query (1)"}}}},"visible":true},"2":{"slot":2,"name":"Number of Retries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"1"}}}},"visible":true},"3":{"slot":3,"name":"Retry Delay","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Short delay with backoff"}}}},"visible":true},"4":{"slot":4,"name":"Retry Interval","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"1"}}}},"visible":false},"5":{"slot":5,"name":"Retry Time Unit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Second"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[17812],"inputIterationConnectorIDs":[]},"17761":{"id":17761,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-464,"y":16,"width":32,"height":32,"inputConnectorIDs":[17778],"outputSuccessConnectorIDs":[17775],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Grab All Auditing - Before"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient Audit Logging Task"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_group"},"2":{"slot":2,"type":"STRING","value":"${var_component_group}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_name"},"2":{"slot":2,"type":"STRING","value":"Transient_DB_Database_Query - Grab All"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_state"},"2":{"slot":2,"type":"STRING","value":"Before"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_schema"},"2":{"slot":2,"type":"STRING","value":"${DestinationSchema}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_table"},"2":{"slot":2,"type":"STRING","value":"${DestinationTableName}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_database"},"2":{"slot":2,"type":"STRING","value":"${DestinationDatabase}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"var_job_run_id"},"2":{"slot":2,"type":"STRING","value":"${JobId}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_functionality"},"2":{"slot":2,"type":"STRING","value":"transient"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17762":{"id":17762,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-880,"y":16,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[17789],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17763":{"id":17763,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":112,"y":-320,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[17801],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17764":{"id":17764,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-741198691,"x":288,"y":-320,"width":32,"height":32,"inputConnectorIDs":[17801],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Completed At","mapTo":"v_job_CompletedAt"},"2":{"slot":2,"fromId":null,"fromName":"Row Count","mapTo":"v_job_RowsInserted"},"3":{"slot":3,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"4":{"slot":4,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"5":{"slot":5,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"6":{"slot":6,"fromId":null,"fromName":"Started At","mapTo":"v_job_StartedAt"},"7":{"slot":7,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Transient_DB_Database_Query - All"}}}},"visible":true},"2":{"slot":2,"name":"Database Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Teradata"}}}},"visible":true},"3":{"slot":3,"name":"Connection URL","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"jdbc:teradata://dhl41cop1.prg-dc.dhl.com/TMODE=TERA,CHARSET=UTF8,ENCRYPTDATA=ON,LOGMECH=LDAP"}}}},"visible":true},"6":{"slot":6,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"anupamag"}}}},"visible":true},"7":{"slot":7,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":"TEST"}}}},"visible":true},"8":{"slot":8,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"select * from dbt_c360_p.AG_TEST_20;\n"}}}},"visible":true},"9":{"slot":9,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":true},"11":{"slot":11,"name":"Connection Options","elements":{},"visible":true},"12":{"slot":12,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"2"}}}},"visible":false},"13":{"slot":13,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":true},"14":{"slot":14,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":true},"15":{"slot":15,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationWarehouse}"}}}},"visible":true},"16":{"slot":16,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"17":{"slot":17,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"101":{"slot":101,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"102":{"slot":102,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"103":{"slot":103,"name":"Data Selection","elements":{},"visible":false},"104":{"slot":104,"name":"Data Source Filter","elements":{},"visible":false},"105":{"slot":105,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"106":{"slot":106,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_default_warehouse}"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_TEMPLATE_TEST"}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationSchema}"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationDatabase}"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":true},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"datafactoryclassified"}}}},"visible":true},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_azure_container_temp}"}}}},"visible":true},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Stage Platform","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Azure Blob Storage Location"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17765":{"id":17765,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"CONDITIONAL","executionHint":"FLOW","implementationID":-1357378929,"x":-32,"y":-128,"width":32,"height":32,"inputConnectorIDs":[17791],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[17779],"outputFalseConnectorIDs":[17782],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Check rows staged"}}}},"visible":true},"2":{"slot":2,"name":"Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Simple"}}}},"visible":true},"3":{"slot":3,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"v_job_RowsInserted"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Greater than"},"4":{"slot":4,"type":"STRING","value":"0"}}}},"visible":true},"4":{"slot":4,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"5":{"slot":5,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17792":{"id":17792,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-158614544,"x":-304,"y":-128,"width":32,"height":16,"inputConnectorIDs":[17773],"outputSuccessConnectorIDs":[17774],"outputFailureConnectorIDs":[17808],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Retry Primary Offset"}}}},"visible":true},"2":{"slot":2,"name":"Number of Retries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"3"}}}},"visible":true},"3":{"slot":3,"name":"Retry Delay","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Long delay with backoff"}}}},"visible":true},"4":{"slot":4,"name":"Retry Interval","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"1"}}}},"visible":false},"5":{"slot":5,"name":"Retry Time Unit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Second"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[17811],"inputIterationConnectorIDs":[]},"17793":{"id":17793,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-32,"y":-240,"width":32,"height":32,"inputConnectorIDs":[17782],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"2":{"slot":2,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"3":{"slot":3,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"4":{"slot":4,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Auditing - After - On Success"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USE WAREHOUSE ${DestinationWarehouse};\n\nINSERT INTO  ${var_environment_name}_${var_database_job_control}.${var_schema_audit}.JOB_EXECUTION \n(JOB_EXECUTION_ID,DATABASE_NAME, SCHEMA_NAME, TABLE_NAME, USER_NAME, ROLE_NAME, START_TIME, \n  \t\tROWS_BEFORE,WAREHOUSE_NAME,CREATE_DATETIME,  CONTEXT_NAME,QUERY_TYPE,EXECUTION_STATUS,\n ROWS_INSERTED,ROWS_UPDATED,ROWS_DELETED,ROWS_AFTER,MODIFIED_DATETIME, END_TIME)\nSELECT\n\t\tA.JOB_EXECUTION_ID,\n  \t\tA.DATABASE_NAME, \n  \t\tA.SCHEMA_NAME, \n  \t\tA.TABLE_NAME, \n  \t\tA.USER_NAME, \n  \t\tA.ROLE_NAME, \n  \t\tA.START_TIME, \n  \t\tA.ROWS_BEFORE, \n  \t\tA.WAREHOUSE_NAME, \n  \t\tA.CREATE_DATETIME, \n  \t\tA.CONTEXT_NAME, \n        'EXTERNAL DB QUERY'\n    \t, 'Succeeded' \n   \t  , 0\n    ,  0 \n    , 0\n    , 0 \n    , CURRENT_TIMESTAMP()::TIMESTAMP_NTZ    \n    , CURRENT_TIMESTAMP()::TIMESTAMP_NTZ \nFROM \n(\n  SELECT * FROM\n${var_environment_name}_${var_database_job_control}.${var_schema_audit}.JOB_EXECUTION_TEMP\n  WHERE JOB_EXECUTION_ID = ${var_job_run_id}\n\tAND TABLE_NAME = '${DestinationTableName}'\n   AND DATABASE_NAME = '${DestinationDatabase}'\n    AND SCHEMA_NAME = '${DestinationSchema}'\n\tAND EXECUTION_STATUS = 'Running'\n    ORDER BY START_TIME DESC\n    LIMIT 1\n  ) A\n;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17794":{"id":17794,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":320,"y":128,"width":32,"height":32,"inputConnectorIDs":[17783],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[17785],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Clean Variable string"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Updating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\n\n\ncontext.updateVariable('v_job_Message',\"\"\"${v_job_Message}\"\"\".replace(\"'\",\"\"))\ncontext.updateVariable('v_job_Status',\"${v_job_Status}\".replace(\"'\",\"\"))\n\n\n\n"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python 3"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17795":{"id":17795,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-741198691,"x":-304,"y":48,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Completed At","mapTo":"v_job_CompletedAt"},"2":{"slot":2,"fromId":null,"fromName":"Row Count","mapTo":"v_job_RowsInserted"},"3":{"slot":3,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"4":{"slot":4,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"5":{"slot":5,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"6":{"slot":6,"fromId":null,"fromName":"Started At","mapTo":"v_job_StartedAt"},"7":{"slot":7,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient_DB_Database_Query - All"}}}},"visible":true},"2":{"slot":2,"name":"Database Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${SourceDatabase}"}}}},"visible":true},"3":{"slot":3,"name":"Connection URL","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ConnectionString}"}}}},"visible":true},"6":{"slot":6,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${UserName}"}}}},"visible":true},"7":{"slot":7,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":"${SourcePassword}"}}}},"visible":true},"8":{"slot":8,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CALL DF.P_NOS_WRITE('${var_environment_name}','${SourceDatabaseName}','${SourceTableName}','${var_source_system_name}','${ProjectName}','${JobId}',NULL, NULL,NULL);\n\n"}}}},"visible":true},"9":{"slot":9,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":true},"11":{"slot":11,"name":"Connection Options","elements":{},"visible":true},"12":{"slot":12,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"2"}}}},"visible":false},"13":{"slot":13,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":true},"14":{"slot":14,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":true},"15":{"slot":15,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationWarehouse}"}}}},"visible":true},"16":{"slot":16,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"17":{"slot":17,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"101":{"slot":101,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"102":{"slot":102,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"103":{"slot":103,"name":"Data Selection","elements":{},"visible":false},"104":{"slot":104,"name":"Data Source Filter","elements":{},"visible":false},"105":{"slot":105,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"106":{"slot":106,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_default_warehouse}"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_TEMPLATE_TEST"}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationSchema}"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationDatabase}"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":true},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"datafactoryclassified"}}}},"visible":true},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_azure_container_temp}"}}}},"visible":true},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Stage Platform","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Azure Blob Storage Location"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[17809]},"17796":{"id":17796,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-741198691,"x":-304,"y":-96,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Completed At","mapTo":"v_job_CompletedAt"},"2":{"slot":2,"fromId":null,"fromName":"Row Count","mapTo":"v_job_RowsInserted"},"3":{"slot":3,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"4":{"slot":4,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"5":{"slot":5,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"6":{"slot":6,"fromId":null,"fromName":"Started At","mapTo":"v_job_StartedAt"},"7":{"slot":7,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient_DB_Database_Query - All with Primary Offset"}}}},"visible":true},"2":{"slot":2,"name":"Database Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${SourceDatabase}"}}}},"visible":true},"3":{"slot":3,"name":"Connection URL","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ConnectionString}"}}}},"visible":true},"6":{"slot":6,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${UserName}"}}}},"visible":true},"7":{"slot":7,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":"${SourcePassword}"}}}},"visible":true},"8":{"slot":8,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CALL DF.P_NOS_WRITE('${var_environment_name}','${SourceDatabaseName}','${SourceTableName}','${var_source_system_name}','${ProjectName}','${JobId}','${DeltaPrimaryColumn}', '${NextDeltaValue}',NULL);\n\n"}}}},"visible":true},"9":{"slot":9,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":true},"11":{"slot":11,"name":"Connection Options","elements":{},"visible":true},"12":{"slot":12,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"2"}}}},"visible":false},"13":{"slot":13,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":true},"14":{"slot":14,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":true},"15":{"slot":15,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationWarehouse}"}}}},"visible":true},"16":{"slot":16,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"17":{"slot":17,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"101":{"slot":101,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"102":{"slot":102,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"103":{"slot":103,"name":"Data Selection","elements":{},"visible":false},"104":{"slot":104,"name":"Data Source Filter","elements":{},"visible":false},"105":{"slot":105,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"106":{"slot":106,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pang_primelatency"}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TEMPLATE_TEST"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_T1_TRANSIENT_STAGING"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":true},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"datafactoryclassified"}}}},"visible":true},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_azure_container_temp}"}}}},"visible":true},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Stage Platform","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Azure Blob Storage Location"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[17811]},"17797":{"id":17797,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1859466705,"x":176,"y":128,"width":32,"height":32,"inputConnectorIDs":[17790],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[17783],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On Failure Scale Down WH Transient NOS"}}}},"visible":true},"2":{"slot":2,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_default_warehouse}"}}}},"visible":true},"3":{"slot":3,"name":"Command Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Set"}}}},"visible":true},"4":{"slot":4,"name":"New name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"5":{"slot":5,"name":"Properties","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"WAREHOUSE_SIZE"},"2":{"slot":2,"type":"STRING","value":"XSMALL"}}}},"visible":true},"6":{"slot":6,"name":"Properties","elements":{},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17798":{"id":17798,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":800,"y":-16,"width":32,"height":32,"inputConnectorIDs":[17784],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Auditing - After - On Success with records"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient Audit Logging Task"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_group"},"2":{"slot":2,"type":"STRING","value":"${var_component_group}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_name"},"2":{"slot":2,"type":"STRING","value":"${v_job_Component}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_state"},"2":{"slot":2,"type":"STRING","value":"${v_job_Status}"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_schema"},"2":{"slot":2,"type":"STRING","value":"${DestinationSchema}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_table"},"2":{"slot":2,"type":"STRING","value":"${DestinationTableName}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_database"},"2":{"slot":2,"type":"STRING","value":"${DestinationDatabase}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"var_job_run_id"},"2":{"slot":2,"type":"STRING","value":"${JobId}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_query_tag"},"2":{"slot":2,"type":"STRING","value":"${var_component_query_tag}"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_table_rows_inserted"},"2":{"slot":2,"type":"STRING","value":"${v_job_RowsInserted}"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_functionality"},"2":{"slot":2,"type":"STRING","value":"transient"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_query_start_time"},"2":{"slot":2,"type":"STRING","value":"${v_job_StartedAt}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17799":{"id":17799,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"CONDITIONAL","executionHint":"FLOW","implementationID":-1357378929,"x":-608,"y":16,"width":32,"height":32,"inputConnectorIDs":[17781],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[17778],"outputFalseConnectorIDs":[17780],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NextDeltaValue is Blank"}}}},"visible":true},"2":{"slot":2,"name":"Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Simple"}}}},"visible":true},"3":{"slot":3,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NextDeltaValue"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Blank"},"4":{"slot":4,"type":"STRING","value":""}}}},"visible":true},"4":{"slot":4,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"5":{"slot":5,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"17800":{"id":17800,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-752,"y":16,"width":32,"height":32,"inputConnectorIDs":[17789],"outputSuccessConnectorIDs":[17769],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Truncate Table before Load"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USE WAREHOUSE ${DestinationWarehouse};\n\ntruncate table if exists \"${DestinationDatabase}\".\"${DestinationSchema}\".\"${DestinationTableName}\";\n\n"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"17766":{"id":17766,"sourceID":17760,"targetID":17758},"17767":{"id":17767,"sourceID":17758,"targetID":17742},"17768":{"id":17768,"sourceID":17747,"targetID":17746},"17769":{"id":17769,"sourceID":17800,"targetID":17748},"17770":{"id":17770,"sourceID":17756,"targetID":17743},"17771":{"id":17771,"sourceID":17751,"targetID":17753},"17772":{"id":17772,"sourceID":17746,"targetID":17753},"17773":{"id":17773,"sourceID":17749,"targetID":17792},"17774":{"id":17774,"sourceID":17792,"targetID":17753},"17775":{"id":17775,"sourceID":17761,"targetID":17751},"17776":{"id":17776,"sourceID":17743,"targetID":17744}},"failureConnectors":{"17802":{"id":17802,"sourceID":17746,"targetID":17754},"17803":{"id":17803,"sourceID":17751,"targetID":17754},"17804":{"id":17804,"sourceID":17756,"targetID":17754},"17805":{"id":17805,"sourceID":17758,"targetID":17754},"17806":{"id":17806,"sourceID":17760,"targetID":17754},"17807":{"id":17807,"sourceID":17743,"targetID":17754},"17808":{"id":17808,"sourceID":17792,"targetID":17754}},"unconditionalConnectors":{"17783":{"id":17783,"sourceID":17797,"targetID":17794},"17784":{"id":17784,"sourceID":17742,"targetID":17798},"17785":{"id":17785,"sourceID":17794,"targetID":17750},"17786":{"id":17786,"sourceID":17750,"targetID":17755},"17787":{"id":17787,"sourceID":17755,"targetID":17752},"17788":{"id":17788,"sourceID":17744,"targetID":17760},"17789":{"id":17789,"sourceID":17762,"targetID":17800},"17790":{"id":17790,"sourceID":17754,"targetID":17797},"17791":{"id":17791,"sourceID":17753,"targetID":17765},"17801":{"id":17801,"sourceID":17763,"targetID":17764}},"trueConnectors":{"17777":{"id":17777,"sourceID":17748,"targetID":17747},"17778":{"id":17778,"sourceID":17799,"targetID":17761},"17779":{"id":17779,"sourceID":17765,"targetID":17756}},"falseConnectors":{"17780":{"id":17780,"sourceID":17799,"targetID":17749},"17781":{"id":17781,"sourceID":17748,"targetID":17799},"17782":{"id":17782,"sourceID":17765,"targetID":17793}},"iterationConnectors":{"17809":{"id":17809,"sourceID":17751,"targetID":17795},"17810":{"id":17810,"sourceID":17758,"targetID":17757},"17811":{"id":17811,"sourceID":17792,"targetID":17796},"17812":{"id":17812,"sourceID":17760,"targetID":17759},"17813":{"id":17813,"sourceID":17746,"targetID":17745}},"noteConnectors":{},"notes":{"17741":{"id":17741,"x":-802,"y":-364,"width":724,"height":101,"text":"**PROCESS DETAILS**\n\n1. A DB Query component will execute \"Copy into stage\" only on successful connection to the external DB and if there are new records/updated records available at the source for ingestion. Hence the log is a general log for failures and for no new records.\n\n2. The date conversion function can be different for each DB type in the database query.","colour":"00ce4f"}},"variables":{"AdhocEnd":{"definition":{"name":"AdhocEnd","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"AdhocStart":{"definition":{"name":"AdhocStart","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"ConnectionString":{"definition":{"name":"ConnectionString","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"jdbc:teradata://dhl41cop1.prg-dc.dhl.com/LOGMECH=LDAP,TMODE=TERA,CHARSET=UTF8,ENCRYPTDATA=ON"},"DatalakeDatabase":{"definition":{"name":"DatalakeDatabase","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"DatalakeSchema":{"definition":{"name":"DatalakeSchema","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"DatalakeTableName":{"definition":{"name":"DatalakeTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"DeltaKey":{"definition":{"name":"DeltaKey","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DUMMY"},"DeltaPrimaryColumn":{"definition":{"name":"DeltaPrimaryColumn","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"\"LastModifiedDate\""},"DeltaSecondaryColumn":{"definition":{"name":"DeltaSecondaryColumn","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DUMMY"},"DeltaSqlStatement":{"definition":{"name":"DeltaSqlStatement","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"1=1"},"DestinationDatabase":{"definition":{"name":"DestinationDatabase","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DEV_T1_TRANSIENT_STAGING"},"DestinationSchema":{"definition":{"name":"DestinationSchema","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"TEMPLATE_TEST"},"DestinationTableName":{"definition":{"name":"DestinationTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"DestinationWarehouse":{"definition":{"name":"DestinationWarehouse","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"WORK_DEV_XS"},"ExternalStageArea":{"definition":{"name":"ExternalStageArea","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DEV_TEMPLATE_TEST"},"ExternalStageFileFormat":{"definition":{"name":"ExternalStageFileFormat","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"PARQUET_NOS_TEMPLATE_TEST"},"ExternalStagePrefix":{"definition":{"name":"ExternalStagePrefix","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"AG_TEST_64"},"JobId":{"definition":{"name":"JobId","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"1001733"},"LoadTypeName":{"definition":{"name":"LoadTypeName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"LoadTypeValue":{"definition":{"name":"LoadTypeValue","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"NextDeltaValue":{"definition":{"name":"NextDeltaValue","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"2019-06-23 23:02:41.000"},"ProjectName":{"definition":{"name":"ProjectName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"SourceDatabase":{"definition":{"name":"SourceDatabase","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"Teradata"},"SourceDatabaseName":{"definition":{"name":"SourceDatabaseName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DBT_C360_P"},"SourcePassword":{"definition":{"name":"SourcePassword","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"AG_DBT_C360_P3"},"SourceSchema":{"definition":{"name":"SourceSchema","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"SourceSystem":{"definition":{"name":"SourceSystem","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DUMMY"},"SourceTableName":{"definition":{"name":"SourceTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"AG_TEST_66"},"UserName":{"definition":{"name":"UserName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"anupamag"},"v_job_CompletedAt":{"definition":{"name":"v_job_CompletedAt","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_Component":{"definition":{"name":"v_job_Component","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_Duration":{"definition":{"name":"v_job_Duration","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_Filename":{"definition":{"name":"v_job_Filename","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_Message":{"definition":{"name":"v_job_Message","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_RowsInserted":{"definition":{"name":"v_job_RowsInserted","type":"DECIMAL","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"0"},"v_job_StartedAt":{"definition":{"name":"v_job_StartedAt","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_Status":{"definition":{"name":"v_job_Status","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_Warehouse_Size":{"definition":{"name":"v_job_Warehouse_Size","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"XSMALL"},"v_job_nos_stage_prefix":{"definition":{"name":"v_job_nos_stage_prefix","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_sor_file_path":{"definition":{"name":"v_job_sor_file_path","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"var_component_group":{"definition":{"name":"var_component_group","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DB_Transient_Iterate_NOS"},"var_component_name":{"definition":{"name":"var_component_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"Transient DB Database Query NOS"},"var_component_query_tag":{"definition":{"name":"var_component_query_tag","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"NOS"}},"grids":{}},"info":{"name":"DB Transient Iterate - NOS","description":"","type":"ORCHESTRATION","tag":"49f4916f-9b07-4ae1-8e8e-5229db54a1e8"}}