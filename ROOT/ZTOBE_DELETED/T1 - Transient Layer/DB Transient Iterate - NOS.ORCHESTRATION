{"job":{"components":{"19246":{"id":19246,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1859466705,"x":672,"y":-16,"width":32,"height":32,"inputConnectorIDs":[19281],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[19297],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On Success Scale Down WH Transient NOS"}}}},"visible":true},"2":{"slot":2,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_default_warehouse}"}}}},"visible":true},"3":{"slot":3,"name":"Command Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Set"}}}},"visible":true},"4":{"slot":4,"name":"New name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"5":{"slot":5,"name":"Properties","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"WAREHOUSE_SIZE"},"2":{"slot":2,"type":"STRING","value":"XSMALL"}}}},"visible":true},"6":{"slot":6,"name":"Properties","elements":{},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19247":{"id":19247,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":256,"y":-128,"width":32,"height":32,"inputConnectorIDs":[19284],"outputSuccessConnectorIDs":[19279],"outputFailureConnectorIDs":[19339],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Get File count from NOS Staging"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Updating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\ncur = context.cursor()\n#For test - /TEMPLATE_TEST/AG_TEST_64/2023-05-03/04-54-54/\nresult_arr = '''call ${var_environment_name}_${var_database_job_control}.${var_schema_job_control}.SP_CHECK_TO_SCALE_WH('${var_environment_name}','${var_schema_job_control}','${var_job_run_id}','${v_job_nos_stage_prefix}');\n'''\ncur.execute(result_arr)\nresult = cur.fetchall()\nif result is None:\n  print(\"File count not recieved\")\n  context.UpdateVariable('v_job_Message','Filecount not recieved from stored proc')\nelse:\n file_count = result[0][0]\n #file_count=cur.fetchone()[0]\n count = int(file_count)\n print('file_count returned from sproc :',count)\n if (count > ${var_wh_small_th_cnt}):\n  print('warehouse size is set to SMALL')\n  context.updateVariable('v_job_Warehouse_Size', 'SMALL')\n  print(v_job_Warehouse_Size)\n elif (count > ${var_wh_medium_th_cnt}):\n  print('warehouse size is set to MEDIUM')\n  context.updateVariable('v_job_Warehouse_Size', 'MEDIUM')\n  print(v_job_Warehouse_Size)\n elif (count > ${var_wh_large_th_cnt}):\n  print('warehouse size is set to LARGE')\n  context.updateVariable('v_job_Warehouse_Size', 'LARGE')\n  print(v_job_Warehouse_Size)\n else:\n  print ('warehouse resizing is not required')\n  print(v_job_Warehouse_Size)\n\n   \n\n\n"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19248":{"id":19248,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1859466705,"x":384,"y":-128,"width":32,"height":32,"inputConnectorIDs":[19279],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[19329],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Scale Up WH Transient NOS"}}}},"visible":true},"2":{"slot":2,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_default_warehouse}"}}}},"visible":true},"3":{"slot":3,"name":"Command Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Set"}}}},"visible":true},"4":{"slot":4,"name":"New name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"5":{"slot":5,"name":"Properties","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"WAREHOUSE_SIZE"},"2":{"slot":2,"type":"STRING","value":"${v_job_Warehouse_Size}"}}}},"visible":true},"6":{"slot":6,"name":"Properties","elements":{},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19249":{"id":19249,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-741198691,"x":-288,"y":160,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Completed At","mapTo":"v_job_CompletedAt"},"2":{"slot":2,"fromId":null,"fromName":"Row Count","mapTo":"v_job_RowsInserted"},"3":{"slot":3,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"4":{"slot":4,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"5":{"slot":5,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"6":{"slot":6,"fromId":null,"fromName":"Started At","mapTo":"v_job_StartedAt"},"7":{"slot":7,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient_DB_Database_Query - Adhoc"}}}},"visible":true},"2":{"slot":2,"name":"Database Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${SourceDatabase}"}}}},"visible":true},"3":{"slot":3,"name":"Connection URL","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ConnectionString}"}}}},"visible":true},"6":{"slot":6,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${UserName}"}}}},"visible":true},"7":{"slot":7,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":"${SourcePassword}"}}}},"visible":true},"8":{"slot":8,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CALL DF.P_NOS_WRITE('${var_environment_name}','${SourceDatabaseName}','${SourceTableName}','${var_source_system_name}','${ProjectName}','${JobId}','${DeltaPrimaryColumn}', '${AdhocStart}','${AdhocEnd}');\n\n"}}}},"visible":true},"9":{"slot":9,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":true},"11":{"slot":11,"name":"Connection Options","elements":{},"visible":true},"12":{"slot":12,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"2"}}}},"visible":false},"13":{"slot":13,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":true},"14":{"slot":14,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":true},"15":{"slot":15,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationWarehouse}"}}}},"visible":true},"16":{"slot":16,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"17":{"slot":17,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"101":{"slot":101,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"102":{"slot":102,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"103":{"slot":103,"name":"Data Selection","elements":{},"visible":false},"104":{"slot":104,"name":"Data Source Filter","elements":{},"visible":false},"105":{"slot":105,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"106":{"slot":106,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_default_warehouse}"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_TEMPLATE_TEST"}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationSchema}"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationDatabase}"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":true},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"datafactoryclassified"}}}},"visible":true},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_azure_container_temp}"}}}},"visible":true},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Stage Platform","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Azure Blob Storage Location"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[19344]},"19250":{"id":19250,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-158614544,"x":-288,"y":128,"width":32,"height":16,"inputConnectorIDs":[19282],"outputSuccessConnectorIDs":[19286],"outputFailureConnectorIDs":[19334],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Retry Grab All"}}}},"visible":true},"2":{"slot":2,"name":"Number of Retries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"3"}}}},"visible":true},"3":{"slot":3,"name":"Retry Delay","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Long delay with backoff"}}}},"visible":true},"4":{"slot":4,"name":"Retry Interval","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"1"}}}},"visible":false},"5":{"slot":5,"name":"Retry Time Unit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Second"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[19344],"inputIterationConnectorIDs":[]},"19251":{"id":19251,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-464,"y":128,"width":32,"height":32,"inputConnectorIDs":[19290],"outputSuccessConnectorIDs":[19282],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Grab Adhoc Auditing - Before"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient Audit Logging Task"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_group"},"2":{"slot":2,"type":"STRING","value":"${var_component_group}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_name"},"2":{"slot":2,"type":"STRING","value":"Transient_DB_Database_Query - Grab All"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_state"},"2":{"slot":2,"type":"STRING","value":"Before"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_schema"},"2":{"slot":2,"type":"STRING","value":"${DestinationSchema}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_table"},"2":{"slot":2,"type":"STRING","value":"${DestinationTableName}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_database"},"2":{"slot":2,"type":"STRING","value":"${DestinationDatabase}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"var_job_run_id"},"2":{"slot":2,"type":"STRING","value":"${JobId}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_functionality"},"2":{"slot":2,"type":"STRING","value":"transient"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19252":{"id":19252,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"CONDITIONAL","executionHint":"FLOW","implementationID":-1357378929,"x":-608,"y":128,"width":32,"height":32,"inputConnectorIDs":[19283],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[19290],"outputFalseConnectorIDs":[19294],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"If Adhoc Load Type"}}}},"visible":true},"2":{"slot":2,"name":"Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Simple"}}}},"visible":true},"3":{"slot":3,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"LoadTypeName"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"ADHOC"}}}},"visible":true},"4":{"slot":4,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"5":{"slot":5,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19253":{"id":19253,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-608,"y":-128,"width":32,"height":32,"inputConnectorIDs":[19293],"outputSuccessConnectorIDs":[19287],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Grab All with Primary Offset Auditing - Before"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient Audit Logging Task"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_group"},"2":{"slot":2,"type":"STRING","value":"${var_component_group}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_name"},"2":{"slot":2,"type":"STRING","value":"Transient_DB_Database_Query - Grab All with Primary Offset"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_state"},"2":{"slot":2,"type":"STRING","value":"Before"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_schema"},"2":{"slot":2,"type":"STRING","value":"${DestinationSchema}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_table"},"2":{"slot":2,"type":"STRING","value":"${DestinationTableName}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_database"},"2":{"slot":2,"type":"STRING","value":"${DestinationDatabase}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"var_job_run_id"},"2":{"slot":2,"type":"STRING","value":"${JobId}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_functionality"},"2":{"slot":2,"type":"STRING","value":"transient"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19254":{"id":19254,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":432,"y":128,"width":32,"height":32,"inputConnectorIDs":[19298],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[19300],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Auditing - After - On Failure"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USE WAREHOUSE ${DestinationWarehouse};\n\nUPDATE ${var_environment_name}_${var_database_job_control}.${var_schema_audit}.JOB_EXECUTION A \n\tSET\n    QUERY_TYPE\t\t\t   =\t\t'EXTERNAL DB QUERY'\n    ,ROWS_INSERTED          = \t\tCASE WHEN ${v_job_RowsInserted} = -1 THEN 0 ELSE ${v_job_RowsInserted} END\n    ,ROWS_DELETED\t\t   =        0\n    ,ROWS_UPDATED\t\t   =        0\n    ,ROWS_AFTER\t\t\t   =        0\n    ,WAREHOUSE_NAME        =       \t'${DestinationWarehouse}'\n    ,END_TIME          = \t\tCURRENT_TIMESTAMP()::TIMESTAMP_NTZ\n    ,EXECUTION_STATUS      = \t\t'Failed'\n    ,ERROR_MESSAGE         = \t\t'${v_job_Message}'\n\t,MODIFIED_DATETIME = \t\t CURRENT_TIMESTAMP()::TIMESTAMP_NTZ\n\tWHERE \n    JOB_EXECUTION_ID       = \t\t'${JobId}'\n    AND A.DATABASE_NAME    = \t\t'${DestinationDatabase}'\n    AND A.SCHEMA_NAME \t   = \t\t'${DestinationSchema}'\n\tAND A.TABLE_NAME       = \t\t'${DestinationTableName}'\n\tAND A.EXECUTION_STATUS = \t\t'Running'\n    AND A.CONTEXT_NAME \t   = \t\t'${var_component_group}'\n    --AND A.JOB_COMPONENT    =\t\t'${v_job_Component}'\n    ;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19255":{"id":19255,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-158614544,"x":-304,"y":16,"width":32,"height":16,"inputConnectorIDs":[19289],"outputSuccessConnectorIDs":[19285],"outputFailureConnectorIDs":[19335],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Retry Grab All"}}}},"visible":true},"2":{"slot":2,"name":"Number of Retries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"3"}}}},"visible":true},"3":{"slot":3,"name":"Retry Delay","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Long delay with backoff"}}}},"visible":true},"4":{"slot":4,"name":"Retry Interval","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"1"}}}},"visible":false},"5":{"slot":5,"name":"Retry Time Unit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Second"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[19340],"inputIterationConnectorIDs":[]},"19256":{"id":19256,"inputCardinality":"ONE","outputCardinality":"ZERO","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":515156205,"x":688,"y":128,"width":32,"height":32,"inputConnectorIDs":[19328],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"End Failure"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19257":{"id":19257,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":-144,"y":-128,"width":32,"height":32,"inputConnectorIDs":[19285,19286,19288],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[19332],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or success"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19258":{"id":19258,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":16,"y":128,"width":32,"height":32,"inputConnectorIDs":[19333,19334,19335,19336,19337,19338,19339],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[19331],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or Failure"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19259":{"id":19259,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":560,"y":128,"width":32,"height":32,"inputConnectorIDs":[19300],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[19328],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Update TRANSIENT_FAILURE and  LAST_FAILURE_DATE"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USE WAREHOUSE ${DestinationWarehouse};\n\nUPDATE ${var_environment_name}_${var_database_job_control}.${var_schema_job_control}.\"STAGING_CONTROL_DB\"\nSET TRANSIENT_FAILURE_FLAG = 1\n, LAST_FAILURE_DATE = CAST(CURRENT_TIMESTAMP() AS TIMESTAMP_NTZ(9))\nWHERE Source_TABLE_NAME = '${SourceTableName}'\nAND Source_DATABASE_NAME = '${SourceDatabaseName}'\nAND Source_SYSTEM_NAME= '${SourceSystem}'\nAND\n(('${LoadTypeName}' = 'INTERFACE' AND  INTERFACE_NAME = '${LoadTypeValue}' )\nOR\n('${LoadTypeName}' = 'ADHOC'  AND ADHOC_LOAD_FLAG = 1 )\n );"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19260":{"id":19260,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":112,"y":-128,"width":32,"height":32,"inputConnectorIDs":[19292],"outputSuccessConnectorIDs":[19284],"outputFailureConnectorIDs":[19336],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Get the Stage Path Prefix"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Updating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\ncur = context.cursor()\n\nfetch_blob_location = '''\nselect BLOB_LOCATION from \n\"${var_environment_name}_${var_database_job_control}\".\"${var_schema_job_control}\".JOB_EXECUTION_NOS WHERE \nJOB_EXECUTION_ID = ${JobId}  AND DATABASE_NAME = '${SourceDatabaseName}'  AND TABLE_NAME = '${SourceTableName}'\norder by END_TIME desc ; \n'''\n\nprint(\"jobs inserted\", v_job_RowsInserted) \n\ncur.execute(fetch_blob_location)\nresult_set = cur.fetchone()\n\nprint(fetch_blob_location)\nprint(result_set)\n\n### Needs fixing in future sprint for error handling - empty NOS exports.  \nif result_set:\n  blob = str(result_set[0])\n  stage_prefix = \"/\" + \"/\".join(str.split(blob,\"/\")[6:11])\n  sor_file_path = \"/\".join(str.split(blob,\"/\")[4:11])\n  context.updateVariable('v_job_nos_stage_prefix',stage_prefix)\n  print('Variable v_job_nos_stage_prefix has been updated to {0}'.format(stage_prefix))\n  context.updateVariable('v_job_sor_file_path',sor_file_path)\n  print('Variable v_job_sor_file_path has been updated to {0}'.format(sor_file_path))\nelse:\n  raise\n\n   \n\n\n"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19261":{"id":19261,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":544,"y":16,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Completed At","mapTo":"v_job_CompletedAt"},"2":{"slot":2,"fromId":null,"fromName":"Row Count","mapTo":"v_job_RowsInserted"},"3":{"slot":3,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"4":{"slot":4,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"5":{"slot":5,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"6":{"slot":6,"fromId":null,"fromName":"Started At","mapTo":"v_job_StartedAt"},"7":{"slot":7,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Insert from Variant to Transient"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USE WAREHOUSE ${DestinationWarehouse};\n\n\nSET TIMESTAMP_LOAD_VALUE = ( select max(folderpath_datetime)  from \"${var_environment_name}_${var_database_persistent}\".\"${DestinationSchema}\".\"${DestinationTableName}\");\n\ninsert into ${DestinationDatabase}.${DestinationSchema}.${DestinationTableName}\nselect\n*\nfrom\n${DatalakeDatabase}.${DatalakeSchema}.\"VW_SOR_GET_${DestinationTableName}\"\nwhere try_to_timestamp(\"FOLDERPATH_DATETIME\",'YYYY-MM-DD_HH24-MI-SS')\n\t\t\t  > try_to_timestamp(\n\t\t\t\t\t\t\t\t\t   coalesce(\n\t\t\t\t\t\t\t\t\t\t\t\t\t$TIMESTAMP_LOAD_VALUE\n\t\t\t\t\t\t\t\t\t\t\t\t\t,'1900-01-01_00-00-00'\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t ,'YYYY-MM-DD_HH24-MI-SS'\n\t\t\t\t\t\t\t\t\t);\n"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[19341]},"19262":{"id":19262,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-158614544,"x":544,"y":-16,"width":32,"height":16,"inputConnectorIDs":[19280],"outputSuccessConnectorIDs":[19281],"outputFailureConnectorIDs":[19337],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Retry Persistent Insert"}}}},"visible":true},"2":{"slot":2,"name":"Number of Retries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"1"}}}},"visible":true},"3":{"slot":3,"name":"Retry Delay","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Short delay with backoff"}}}},"visible":true},"4":{"slot":4,"name":"Retry Interval","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"1"}}}},"visible":false},"5":{"slot":5,"name":"Retry Time Unit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Second"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[19341],"inputIterationConnectorIDs":[]},"19263":{"id":19263,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":544,"y":-96,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Completed At","mapTo":"v_job_CompletedAt"},"2":{"slot":2,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"3":{"slot":3,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"4":{"slot":4,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"5":{"slot":5,"fromId":null,"fromName":"Started At","mapTo":"v_job_StartedAt"},"6":{"slot":6,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy into Variant"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USE WAREHOUSE ${DestinationWarehouse};\n\n\n\nCOPY INTO ${DatalakeDatabase}.${DatalakeSchema}.${DatalakeTableName}\n(\n-- unique query identifier ${var_component_query_tag}\n        \n        FOLDERPATH\n  \t  , FILENAME\n      , FOLDERPATH_DATETIME\n      , LOAD_JOB_ID\n      , LOAD_DATETIME\n      , CONTENTS\n    )\n    FROM (\n      SELECT\n          regexp_replace(METADATA$FILENAME::STRING ,'(.*\\/)(.*)','\\\\1')              -- FOLDERPATH\n        , SPLIT_PART(METADATA$FILENAME::STRING, '/',-1) -- FILENAME\n        , SPLIT_PART(METADATA$FILENAME, '/',5)||'_' || SPLIT_PART(METADATA$FILENAME, '/',6)   -- FOLDERPATH_DATETIME\n        , ${JobId}\n        , CURRENT_TIMESTAMP                       -- LOAD_DATETIME\n        , $1::VARIANT                             -- CONTENTS\n      FROM @${DatalakeDatabase}.${DatalakeSchema}.${ExternalStageArea}${v_job_nos_stage_prefix}\n       (file_format => ${DatalakeDatabase}.${DatalakeSchema}.${ExternalStageFileFormat})\n    ); "}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[19343]},"19264":{"id":19264,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-158614544,"x":544,"y":-128,"width":32,"height":16,"inputConnectorIDs":[19329],"outputSuccessConnectorIDs":[19280],"outputFailureConnectorIDs":[19338],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Retry DB Query (1)"}}}},"visible":true},"2":{"slot":2,"name":"Number of Retries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"1"}}}},"visible":true},"3":{"slot":3,"name":"Retry Delay","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Short delay with backoff"}}}},"visible":true},"4":{"slot":4,"name":"Retry Interval","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"1"}}}},"visible":false},"5":{"slot":5,"name":"Retry Time Unit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Second"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[19343],"inputIterationConnectorIDs":[]},"19265":{"id":19265,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":-464,"y":16,"width":32,"height":32,"inputConnectorIDs":[19291],"outputSuccessConnectorIDs":[19289],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Grab All Auditing - Before"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient Audit Logging Task"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_group"},"2":{"slot":2,"type":"STRING","value":"${var_component_group}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_name"},"2":{"slot":2,"type":"STRING","value":"Transient_DB_Database_Query - Grab All"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_state"},"2":{"slot":2,"type":"STRING","value":"Before"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_schema"},"2":{"slot":2,"type":"STRING","value":"${DestinationSchema}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_table"},"2":{"slot":2,"type":"STRING","value":"${DestinationTableName}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_database"},"2":{"slot":2,"type":"STRING","value":"${DestinationDatabase}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"var_job_run_id"},"2":{"slot":2,"type":"STRING","value":"${JobId}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_functionality"},"2":{"slot":2,"type":"STRING","value":"transient"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19266":{"id":19266,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-880,"y":16,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[19330],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19267":{"id":19267,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":112,"y":-320,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[19299],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19268":{"id":19268,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-741198691,"x":288,"y":-320,"width":32,"height":32,"inputConnectorIDs":[19299],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Completed At","mapTo":"v_job_CompletedAt"},"2":{"slot":2,"fromId":null,"fromName":"Row Count","mapTo":"v_job_RowsInserted"},"3":{"slot":3,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"4":{"slot":4,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"5":{"slot":5,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"6":{"slot":6,"fromId":null,"fromName":"Started At","mapTo":"v_job_StartedAt"},"7":{"slot":7,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Copy of Transient_DB_Database_Query - All"}}}},"visible":true},"2":{"slot":2,"name":"Database Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Teradata"}}}},"visible":true},"3":{"slot":3,"name":"Connection URL","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"jdbc:teradata://dhl41cop1.prg-dc.dhl.com/TMODE=TERA,CHARSET=UTF8,ENCRYPTDATA=ON,LOGMECH=LDAP"}}}},"visible":true},"6":{"slot":6,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"anupamag"}}}},"visible":true},"7":{"slot":7,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":"TEST"}}}},"visible":true},"8":{"slot":8,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"select * from dbt_c360_p.AG_TEST_20;\n"}}}},"visible":true},"9":{"slot":9,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":true},"11":{"slot":11,"name":"Connection Options","elements":{},"visible":true},"12":{"slot":12,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"2"}}}},"visible":false},"13":{"slot":13,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":true},"14":{"slot":14,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":true},"15":{"slot":15,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationWarehouse}"}}}},"visible":true},"16":{"slot":16,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"17":{"slot":17,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"101":{"slot":101,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"102":{"slot":102,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"103":{"slot":103,"name":"Data Selection","elements":{},"visible":false},"104":{"slot":104,"name":"Data Source Filter","elements":{},"visible":false},"105":{"slot":105,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"106":{"slot":106,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_default_warehouse}"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_TEMPLATE_TEST"}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationSchema}"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationDatabase}"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":true},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"datafactoryclassified"}}}},"visible":true},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_azure_container_temp}"}}}},"visible":true},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Stage Platform","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Azure Blob Storage Location"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19269":{"id":19269,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"CONDITIONAL","executionHint":"FLOW","implementationID":-1357378929,"x":-32,"y":-128,"width":32,"height":32,"inputConnectorIDs":[19332],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[19292],"outputFalseConnectorIDs":[19295],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Check rows staged"}}}},"visible":true},"2":{"slot":2,"name":"Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Simple"}}}},"visible":true},"3":{"slot":3,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"v_job_RowsInserted"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Greater than"},"4":{"slot":4,"type":"STRING","value":"0"}}}},"visible":true},"4":{"slot":4,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"5":{"slot":5,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19270":{"id":19270,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-158614544,"x":-304,"y":-128,"width":32,"height":16,"inputConnectorIDs":[19287],"outputSuccessConnectorIDs":[19288],"outputFailureConnectorIDs":[19333],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Retry Primary Offset"}}}},"visible":true},"2":{"slot":2,"name":"Number of Retries","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"3"}}}},"visible":true},"3":{"slot":3,"name":"Retry Delay","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Long delay with backoff"}}}},"visible":true},"4":{"slot":4,"name":"Retry Interval","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"1"}}}},"visible":false},"5":{"slot":5,"name":"Retry Time Unit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Second"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[19342],"inputIterationConnectorIDs":[]},"19271":{"id":19271,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-32,"y":-240,"width":32,"height":32,"inputConnectorIDs":[19295],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"2":{"slot":2,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"3":{"slot":3,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"4":{"slot":4,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Auditing - After - On Success"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USE WAREHOUSE ${DestinationWarehouse};\n\nINSERT INTO  ${var_environment_name}_${var_database_job_control}.${var_schema_audit}.JOB_EXECUTION \n(JOB_EXECUTION_ID,DATABASE_NAME, SCHEMA_NAME, TABLE_NAME, USER_NAME, ROLE_NAME, START_TIME, \n  \t\tROWS_BEFORE,WAREHOUSE_NAME,CREATE_DATETIME,  CONTEXT_NAME,QUERY_TYPE,EXECUTION_STATUS,\n ROWS_INSERTED,ROWS_UPDATED,ROWS_DELETED,ROWS_AFTER,MODIFIED_DATETIME, END_TIME)\nSELECT\n\t\tA.JOB_EXECUTION_ID,\n  \t\tA.DATABASE_NAME, \n  \t\tA.SCHEMA_NAME, \n  \t\tA.TABLE_NAME, \n  \t\tA.USER_NAME, \n  \t\tA.ROLE_NAME, \n  \t\tA.START_TIME, \n  \t\tA.ROWS_BEFORE, \n  \t\tA.WAREHOUSE_NAME, \n  \t\tA.CREATE_DATETIME, \n  \t\tA.CONTEXT_NAME, \n        'EXTERNAL DB QUERY'\n    \t, 'Succeeded' \n   \t  , 0\n    ,  0 \n    , 0\n    , 0 \n    , CURRENT_TIMESTAMP()::TIMESTAMP_NTZ    \n    , CURRENT_TIMESTAMP()::TIMESTAMP_NTZ \nFROM \n(\n  SELECT * FROM\n${var_environment_name}_${var_database_job_control}.${var_schema_audit}.JOB_EXECUTION_TEMP\n  WHERE JOB_EXECUTION_ID = ${var_job_run_id}\n\tAND TABLE_NAME = '${DestinationTableName}'\n   AND DATABASE_NAME = '${DestinationDatabase}'\n    AND SCHEMA_NAME = '${DestinationSchema}'\n\tAND EXECUTION_STATUS = 'Running'\n    ORDER BY START_TIME DESC\n    LIMIT 1\n  ) A\n;"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19272":{"id":19272,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":320,"y":128,"width":32,"height":32,"inputConnectorIDs":[19296],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[19298],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Clean Variable string"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Updating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\n\n\ncontext.updateVariable('v_job_Message',\"\"\"${v_job_Message}\"\"\".replace(\"'\",\"\"))\ncontext.updateVariable('v_job_Status',\"${v_job_Status}\".replace(\"'\",\"\"))\n\n\n\n"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python 3"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19273":{"id":19273,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-741198691,"x":-304,"y":48,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Completed At","mapTo":"v_job_CompletedAt"},"2":{"slot":2,"fromId":null,"fromName":"Row Count","mapTo":"v_job_RowsInserted"},"3":{"slot":3,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"4":{"slot":4,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"5":{"slot":5,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"6":{"slot":6,"fromId":null,"fromName":"Started At","mapTo":"v_job_StartedAt"},"7":{"slot":7,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient_DB_Database_Query - All"}}}},"visible":true},"2":{"slot":2,"name":"Database Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${SourceDatabase}"}}}},"visible":true},"3":{"slot":3,"name":"Connection URL","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ConnectionString}"}}}},"visible":true},"6":{"slot":6,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${UserName}"}}}},"visible":true},"7":{"slot":7,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":"${SourcePassword}"}}}},"visible":true},"8":{"slot":8,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CALL DF.P_NOS_WRITE('${var_environment_name}','${SourceDatabaseName}','${SourceTableName}','${var_source_system_name}','${ProjectName}','${JobId}',NULL, NULL,NULL);\n\n"}}}},"visible":true},"9":{"slot":9,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":true},"11":{"slot":11,"name":"Connection Options","elements":{},"visible":true},"12":{"slot":12,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"2"}}}},"visible":false},"13":{"slot":13,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":true},"14":{"slot":14,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":true},"15":{"slot":15,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationWarehouse}"}}}},"visible":true},"16":{"slot":16,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"17":{"slot":17,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"101":{"slot":101,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"102":{"slot":102,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"103":{"slot":103,"name":"Data Selection","elements":{},"visible":false},"104":{"slot":104,"name":"Data Source Filter","elements":{},"visible":false},"105":{"slot":105,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"106":{"slot":106,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_default_warehouse}"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_TEMPLATE_TEST"}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationSchema}"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationDatabase}"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":true},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"datafactoryclassified"}}}},"visible":true},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_azure_container_temp}"}}}},"visible":true},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Stage Platform","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Azure Blob Storage Location"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[19340]},"19274":{"id":19274,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-741198691,"x":-304,"y":-96,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Completed At","mapTo":"v_job_CompletedAt"},"2":{"slot":2,"fromId":null,"fromName":"Row Count","mapTo":"v_job_RowsInserted"},"3":{"slot":3,"fromId":null,"fromName":"Component","mapTo":"v_job_Component"},"4":{"slot":4,"fromId":null,"fromName":"Duration","mapTo":"v_job_Duration"},"5":{"slot":5,"fromId":null,"fromName":"Message","mapTo":"v_job_Message"},"6":{"slot":6,"fromId":null,"fromName":"Started At","mapTo":"v_job_StartedAt"},"7":{"slot":7,"fromId":null,"fromName":"Status","mapTo":"v_job_Status"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient_DB_Database_Query - All with Primary Offset"}}}},"visible":true},"2":{"slot":2,"name":"Database Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${SourceDatabase}"}}}},"visible":true},"3":{"slot":3,"name":"Connection URL","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${ConnectionString}"}}}},"visible":true},"6":{"slot":6,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${UserName}"}}}},"visible":true},"7":{"slot":7,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":"${SourcePassword}"}}}},"visible":true},"8":{"slot":8,"name":"SQL Query","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"CALL DF.P_NOS_WRITE('${var_environment_name}','${SourceDatabaseName}','${SourceTableName}','${var_source_system_name}','${ProjectName}','${JobId}','${DeltaPrimaryColumn}', '${NextDeltaValue}',NULL);\n\n"}}}},"visible":true},"9":{"slot":9,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_environment_name}_${var_database_job_control}"}}}},"visible":true},"11":{"slot":11,"name":"Connection Options","elements":{},"visible":true},"12":{"slot":12,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"2"}}}},"visible":false},"13":{"slot":13,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_schema_job_control}"}}}},"visible":true},"14":{"slot":14,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"JOB_EXECUTION_NOS"}}}},"visible":true},"15":{"slot":15,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${DestinationWarehouse}"}}}},"visible":true},"16":{"slot":16,"name":"S3 Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"17":{"slot":17,"name":"Primary Keys","elements":{},"visible":true},"20":{"slot":20,"name":"Data Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"101":{"slot":101,"name":"Basic/Advanced Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Advanced"}}}},"visible":true},"102":{"slot":102,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"103":{"slot":103,"name":"Data Selection","elements":{},"visible":false},"104":{"slot":104,"name":"Data Source Filter","elements":{},"visible":false},"105":{"slot":105,"name":"Combine Filters","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":false},"106":{"slot":106,"name":"Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"100"}}}},"visible":false},"1001":{"slot":1001,"name":"","elements":{},"visible":false},"1992":{"slot":1992,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1993":{"slot":1993,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"1994":{"slot":1994,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"1995":{"slot":1995,"name":"Stage Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1996":{"slot":1996,"name":"Stage Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":false},"1997":{"slot":1997,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"pang_primelatency"}}}},"visible":false},"1998":{"slot":1998,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TEMPLATE_TEST"}}}},"visible":false},"1999":{"slot":1999,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"DEV_T1_TRANSIENT_STAGING"}}}},"visible":false},"2000":{"slot":2000,"name":"Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Standard"}}}},"visible":true},"40000":{"slot":40000,"name":"Encryption","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"None"}}}},"visible":false},"40001":{"slot":40001,"name":"KMS Key ID","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"40501":{"slot":40501,"name":"","elements":{},"visible":false},"40502":{"slot":40502,"name":"Load Options","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":""}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"Off"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"Gzip"}}}},"visible":true},"63319":{"slot":63319,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":true},"63320":{"slot":63320,"name":"Storage Account","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"datafactoryclassified"}}}},"visible":true},"63321":{"slot":63321,"name":"Blob Container","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_azure_container_temp}"}}}},"visible":true},"63322":{"slot":63322,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"84533":{"slot":84533,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88340":{"slot":88340,"name":"","elements":{},"visible":false},"88341":{"slot":88341,"name":"Stage Platform","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Existing Azure Blob Storage Location"}}}},"visible":true},"88342":{"slot":88342,"name":"Stage Authentication","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Credentials"}}}},"visible":false},"88343":{"slot":88343,"name":"Storage Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"88344":{"slot":88344,"name":"Use Accelerated Endpoint","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"False"}}}},"visible":false},"88345":{"slot":88345,"name":"Stage","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Custom]"}}}},"visible":true},"98776":{"slot":98776,"name":"GCS Staging Area","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[19342]},"19275":{"id":19275,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1859466705,"x":176,"y":128,"width":32,"height":32,"inputConnectorIDs":[19331],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[19296],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"On Failure Scale Down WH Transient NOS"}}}},"visible":true},"2":{"slot":2,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"${var_default_warehouse}"}}}},"visible":true},"3":{"slot":3,"name":"Command Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Set"}}}},"visible":true},"4":{"slot":4,"name":"New name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"5":{"slot":5,"name":"Properties","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"WAREHOUSE_SIZE"},"2":{"slot":2,"type":"STRING","value":"XSMALL"}}}},"visible":true},"6":{"slot":6,"name":"Properties","elements":{},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19276":{"id":19276,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1785813072,"x":800,"y":-16,"width":32,"height":32,"inputConnectorIDs":[19297],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Auditing - After - On Success with records"}}}},"visible":true},"2":{"slot":2,"name":"Orchestration Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transient Audit Logging Task"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_group"},"2":{"slot":2,"type":"STRING","value":"${var_component_group}"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_name"},"2":{"slot":2,"type":"STRING","value":"${v_job_Component}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_state"},"2":{"slot":2,"type":"STRING","value":"${v_job_Status}"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_schema"},"2":{"slot":2,"type":"STRING","value":"${DestinationSchema}"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_table"},"2":{"slot":2,"type":"STRING","value":"${DestinationTableName}"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_database"},"2":{"slot":2,"type":"STRING","value":"${DestinationDatabase}"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"var_job_run_id"},"2":{"slot":2,"type":"STRING","value":"${JobId}"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_query_tag"},"2":{"slot":2,"type":"STRING","value":"${var_component_query_tag}"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"var_destination_table_rows_inserted"},"2":{"slot":2,"type":"STRING","value":"${v_job_RowsInserted}"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_component_functionality"},"2":{"slot":2,"type":"STRING","value":"transient"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"var_audit_query_start_time"},"2":{"slot":2,"type":"STRING","value":"${v_job_StartedAt}"}}}},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19277":{"id":19277,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"CONDITIONAL","executionHint":"FLOW","implementationID":-1357378929,"x":-608,"y":16,"width":32,"height":32,"inputConnectorIDs":[19294],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[19291],"outputFalseConnectorIDs":[19293],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NextDeltaValue is Blank"}}}},"visible":true},"2":{"slot":2,"name":"Mode","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Simple"}}}},"visible":true},"3":{"slot":3,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"NextDeltaValue"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Blank"},"4":{"slot":4,"type":"STRING","value":""}}}},"visible":true},"4":{"slot":4,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And"}}}},"visible":true},"5":{"slot":5,"name":"Condition","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"19278":{"id":19278,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-798585337,"x":-752,"y":16,"width":32,"height":32,"inputConnectorIDs":[19330],"outputSuccessConnectorIDs":[19283],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Truncate Table before Load"}}}},"visible":true},"2":{"slot":2,"name":"SQL Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"USE WAREHOUSE ${DestinationWarehouse};\n\ntruncate table if exists \"${DestinationDatabase}\".\"${DestinationSchema}\".\"${DestinationTableName}\";\n\n"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"19279":{"id":19279,"sourceID":19247,"targetID":19248},"19280":{"id":19280,"sourceID":19264,"targetID":19262},"19281":{"id":19281,"sourceID":19262,"targetID":19246},"19282":{"id":19282,"sourceID":19251,"targetID":19250},"19283":{"id":19283,"sourceID":19278,"targetID":19252},"19284":{"id":19284,"sourceID":19260,"targetID":19247},"19285":{"id":19285,"sourceID":19255,"targetID":19257},"19286":{"id":19286,"sourceID":19250,"targetID":19257},"19287":{"id":19287,"sourceID":19253,"targetID":19270},"19288":{"id":19288,"sourceID":19270,"targetID":19257},"19289":{"id":19289,"sourceID":19265,"targetID":19255}},"failureConnectors":{"19333":{"id":19333,"sourceID":19270,"targetID":19258},"19334":{"id":19334,"sourceID":19250,"targetID":19258},"19335":{"id":19335,"sourceID":19255,"targetID":19258},"19336":{"id":19336,"sourceID":19260,"targetID":19258},"19337":{"id":19337,"sourceID":19262,"targetID":19258},"19338":{"id":19338,"sourceID":19264,"targetID":19258},"19339":{"id":19339,"sourceID":19247,"targetID":19258}},"unconditionalConnectors":{"19296":{"id":19296,"sourceID":19275,"targetID":19272},"19297":{"id":19297,"sourceID":19246,"targetID":19276},"19298":{"id":19298,"sourceID":19272,"targetID":19254},"19299":{"id":19299,"sourceID":19267,"targetID":19268},"19300":{"id":19300,"sourceID":19254,"targetID":19259},"19328":{"id":19328,"sourceID":19259,"targetID":19256},"19329":{"id":19329,"sourceID":19248,"targetID":19264},"19330":{"id":19330,"sourceID":19266,"targetID":19278},"19331":{"id":19331,"sourceID":19258,"targetID":19275},"19332":{"id":19332,"sourceID":19257,"targetID":19269}},"trueConnectors":{"19290":{"id":19290,"sourceID":19252,"targetID":19251},"19291":{"id":19291,"sourceID":19277,"targetID":19265},"19292":{"id":19292,"sourceID":19269,"targetID":19260}},"falseConnectors":{"19293":{"id":19293,"sourceID":19277,"targetID":19253},"19294":{"id":19294,"sourceID":19252,"targetID":19277},"19295":{"id":19295,"sourceID":19269,"targetID":19271}},"iterationConnectors":{"19340":{"id":19340,"sourceID":19255,"targetID":19273},"19341":{"id":19341,"sourceID":19262,"targetID":19261},"19342":{"id":19342,"sourceID":19270,"targetID":19274},"19343":{"id":19343,"sourceID":19264,"targetID":19263},"19344":{"id":19344,"sourceID":19250,"targetID":19249}},"noteConnectors":{},"notes":{"19245":{"id":19245,"x":-802,"y":-364,"width":724,"height":101,"text":"**PROCESS DETAILS**\n\n1. A DB Query component will execute \"Copy into stage\" only on successful connection to the external DB and if there are new records/updated records available at the source for ingestion. Hence the log is a general log for failures and for no new records.\n\n2. The date conversion function can be different for each DB type in the database query.","colour":"00ce4f"}},"variables":{"AdhocEnd":{"definition":{"name":"AdhocEnd","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"AdhocStart":{"definition":{"name":"AdhocStart","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"ConnectionString":{"definition":{"name":"ConnectionString","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"jdbc:teradata://dhl41cop1.prg-dc.dhl.com/LOGMECH=LDAP,TMODE=TERA,CHARSET=UTF8,ENCRYPTDATA=ON"},"DatalakeDatabase":{"definition":{"name":"DatalakeDatabase","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"DatalakeSchema":{"definition":{"name":"DatalakeSchema","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"DatalakeTableName":{"definition":{"name":"DatalakeTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"DeltaKey":{"definition":{"name":"DeltaKey","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DUMMY"},"DeltaPrimaryColumn":{"definition":{"name":"DeltaPrimaryColumn","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"\"LastModifiedDate\""},"DeltaSecondaryColumn":{"definition":{"name":"DeltaSecondaryColumn","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DUMMY"},"DeltaSqlStatement":{"definition":{"name":"DeltaSqlStatement","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"1=1"},"DestinationDatabase":{"definition":{"name":"DestinationDatabase","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DEV_T1_TRANSIENT_STAGING"},"DestinationSchema":{"definition":{"name":"DestinationSchema","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"TEMPLATE_TEST"},"DestinationTableName":{"definition":{"name":"DestinationTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"DestinationWarehouse":{"definition":{"name":"DestinationWarehouse","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"WORK_DEV_XS"},"ExternalStageArea":{"definition":{"name":"ExternalStageArea","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DEV_TEMPLATE_TEST"},"ExternalStageFileFormat":{"definition":{"name":"ExternalStageFileFormat","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"PARQUET_NOS_TEMPLATE_TEST"},"ExternalStagePrefix":{"definition":{"name":"ExternalStagePrefix","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"AG_TEST_64"},"JobId":{"definition":{"name":"JobId","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"1001733"},"LoadTypeName":{"definition":{"name":"LoadTypeName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"LoadTypeValue":{"definition":{"name":"LoadTypeValue","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"NextDeltaValue":{"definition":{"name":"NextDeltaValue","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"2019-06-23 23:02:41.000"},"ProjectName":{"definition":{"name":"ProjectName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"SourceDatabase":{"definition":{"name":"SourceDatabase","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"Teradata"},"SourceDatabaseName":{"definition":{"name":"SourceDatabaseName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DBT_C360_P"},"SourcePassword":{"definition":{"name":"SourcePassword","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"AG_DBT_C360_P3"},"SourceSchema":{"definition":{"name":"SourceSchema","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":""},"SourceSystem":{"definition":{"name":"SourceSystem","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DUMMY"},"SourceTableName":{"definition":{"name":"SourceTableName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"AG_TEST_66"},"UserName":{"definition":{"name":"UserName","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"anupamag"},"v_job_CompletedAt":{"definition":{"name":"v_job_CompletedAt","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_Component":{"definition":{"name":"v_job_Component","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_Duration":{"definition":{"name":"v_job_Duration","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_Filename":{"definition":{"name":"v_job_Filename","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_Message":{"definition":{"name":"v_job_Message","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_RowsInserted":{"definition":{"name":"v_job_RowsInserted","type":"DECIMAL","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"0"},"v_job_StartedAt":{"definition":{"name":"v_job_StartedAt","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_Status":{"definition":{"name":"v_job_Status","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_Warehouse_Size":{"definition":{"name":"v_job_Warehouse_Size","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"XSMALL"},"v_job_nos_stage_prefix":{"definition":{"name":"v_job_nos_stage_prefix","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"v_job_sor_file_path":{"definition":{"name":"v_job_sor_file_path","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"var_component_group":{"definition":{"name":"var_component_group","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"DB_Transient_Iterate_NOS"},"var_component_name":{"definition":{"name":"var_component_name","type":"TEXT","scope":"BRANCH","description":"","visibility":"PUBLIC"},"value":"Transient DB Database Query NOS"},"var_component_query_tag":{"definition":{"name":"var_component_query_tag","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"NOS"}},"grids":{}},"info":{"name":"DB Transient Iterate - NOS","description":"","type":"ORCHESTRATION","tag":"3e449c1e-9879-40d3-950c-d79632c41d51"}}